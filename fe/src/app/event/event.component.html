<div class="content-wrapper">
   <section class="content">
      <!-- <app-addPerson (messageEvent)="receiveMessage()"></app-addPerson> -->
      <!-- <a class="btn btn-primary" (click)="addPerson()">Registrar Persona</a> -->
      <!-- <app-persona></app-persona> -->
      <div>
         <ol class="breadcrumb">
            <!-- <br> -->
            <li>
               <a class="btn btn-primary" [routerLink]="['/home/inscription/'+event?._id]">
                  <i class="fa fa-book"></i>Inscribir Persona</a>
            </li>
            <li>
               <a class="btn btn-info" [routerLink]="['/home/accountsModulars/'+event?._id]">
                  <i class="fa fa-book"></i>Reportes Modulares</a>
            </li>
            <!-- <li>
                  <a class="btn btn-primary" [routerLink]="['/home/inscription/'+event?._id]">
                     <i class="glyphicon glyphicon-usd"></i>Control</a>
               </li> -->
            <!-- <li><app-control-asistance></app-control-asistance></li> -->
         </ol>
      </div>
      <div>
         <h1>{{event?.name}}</h1>
      </div>
      <div class="btn-group" data-toggle="buttons">

            <label *ngFor="let m of modules">

                  <button class="btn btn-primary margin-left"  (click)="setListInscriptions(m._id,m.name)"> {{m.name}}</button> 
            </label>
       

      </div>
      <p>
            
            <label >
                  
                  <h3>{{moduleName}}</h3>
                  Lista de personas :
                  
            </label>
      </p>

      <table class="table table-hover" *ngIf="moduleName!=null">
         <thead>
            <tr>
               <th>Nombre</th>
               <th>CI</th>
               <th>Celular</th>
               <th>Monto Cancelado</th>
               <th>Perfil</th>
               <th>Asistencia</th>
               <!-- <th>asis</th> -->
               <th colspan="2">Opciones</th>
            </tr>
         </thead>
         <tbody>
            <!--<tr *ngFor="let i of inscriptions | buscarPersona: busqueda">-->
            <tr *ngFor="let i of lista_personasPorModulo" [ngSwitch]="i.assist">
               <td>{{ i.name }}</td>
               <td>{{ i.ci }}</td>
               <td>{{ i.cellphone }}</td>
               <td>{{ i.canceled_price }}</td>
               <td>
                  <a class="btn btn-info" (click)="viewProfile(i.persons)">VER</a>
               </td>
               <td *ngSwitchCase="false">

                  <button class="btn btn-danger" (click)="marcarAsistencia(i.persons)"> No Asistio</button>
                 
               </td>
               <td *ngSwitchCase="true">
                  <button class="btn btn-success" disabled> Asistio</button>

               </td>
               <!-- <td>{{i.assist}}</td> -->
               <td>
                  <!-- <app-editPerson [editPerson]="event"></app-editPerson> -->
                  <a class="btn btn-warning" (click)="edit(i.persons)">EDITAR</a>
                  <a class="btn btn-success" (click)="asistence(i.persons)">Asistand</a>
                  <!-- <a class="btn btn-primary" (click)="control(i.persons)">Control</a> -->
               </td>
            </tr>
         </tbody>
      </table>
      


      <table class="table table-hover" *ngIf="moduleName==null">
                  <thead>
                     <tr>
                        <th>Nombre</th>
                        <th>CI</th>
                        <th>Celular</th>
                        <th>Monto Cancelado</th>
                        <th>Perfil</th>
                        
                        <th colspan="2">Opciones</th>
                     </tr>
                  </thead>
                  <tbody>
                     <!--<tr *ngFor="let i of inscriptions | buscarPersona: busqueda">-->
                     <tr *ngFor="let i of lista_personasPorModulo" [ngSwitch]="i.assist">
                        <td>{{ i.name }}</td>
                        <td>{{ i.ci }}</td>
                        <td>{{ i.cellphone }}</td>
                        <td>{{ i.canceled_price }}</td>
                        <td>
                           <a class="btn btn-info" (click)="viewProfile(i.persons)">VER</a>
                        </td>
                        
                        <td>
                           <!-- <app-editPerson [editPerson]="event"></app-editPerson> -->
                           <a class="btn btn-warning" (click)="edit(i.persons)">EDITAR</a>
                           <a class="btn btn-success" (click)="asistence(i.persons)">Asistand</a>
                           <a class="btn btn-primary" (click)="control(i.persons)">Control</a>
                           <!-- <a class="btn btn-primary" [routerLink]="['/home/controPago/'+event?._id]">
                                 <i class="glyphicon glyphicon-usd"></i> Control</a> -->
                           
                        </td>
                     </tr>
                  </tbody>
      </table>
      <br>
      <button class="btn btn-primary" (click)="cancelar()">Cancelar</button>


   </section>
   <router-outlet></router-outlet>
</div>